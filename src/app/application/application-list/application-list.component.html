<div class="container">
  <div class="row">
    <div class="col">

      <section class="main">

      	<div class="data-container mat-elevation-z8">

      		<p-growl [(value)]="alertMessages"></p-growl>
      		<app-alert></app-alert>

      		<div class="data-header">
			    <mat-form-field>
<!-- 					<input matInput #filter placeholder="Filter applications"> -->
            <input matInput #filter (keyup)="executeFilter($event.target.value)" placeholder="Filter applications">
			    </mat-form-field>
		  	</div>

	      	<mat-table #table [dataSource]="dataSource" matSort class="data-table">
<!-- 	      	[dataSource]="datasource" -->

	      		<ng-container matColumnDef="channel">
			      <mat-header-cell *matHeaderCellDef mat-sort-header class="data-header-cell"> Channel </mat-header-cell>
			      <mat-cell *matCellDef="let application" class="data-cell"> {{application.channel?.name}} </mat-cell>
			    </ng-container>

			    <ng-container matColumnDef="deviceType">
			      <mat-header-cell *matHeaderCellDef mat-sort-header class="data-header-cell"> Device type </mat-header-cell>
			      <mat-cell *matCellDef="let application" class="data-cell"> {{application.deviceType?.name}} </mat-cell>
			    </ng-container>

			    <ng-container matColumnDef="name">
			      <mat-header-cell *matHeaderCellDef mat-sort-header class="data-header-cell"> Application </mat-header-cell>
			      <mat-cell *matCellDef="let application" class="data-cell"> {{application.name}} </mat-cell>
			    </ng-container>

			    <ng-container matColumnDef="apkName">
			      <mat-header-cell *matHeaderCellDef mat-sort-header class="data-header-cell"> Apk </mat-header-cell>
			      <mat-cell *matCellDef="let application" class="data-cell"> {{application.apkName}} </mat-cell>
			    </ng-container>

			    <ng-container matColumnDef="actions">
			    	<mat-header-cell *matHeaderCellDef class="data-header-cell">
			    		<button mat-icon-button color="primary" matTooltip="Create new application"
			    			(click)="createApplication()">
				          	<mat-icon aria-label="Add">add</mat-icon>
				        </button>
			    	</mat-header-cell>

				    <mat-cell *matCellDef="let application let i=index;" class="data-cell">
				    	<div class="actions-container">
			         		<button mat-icon-button color="accent" matTooltip="Edit application"
			         			(click)="editApplication(application)">
			         			<mat-icon aria-label="Edit">edit</mat-icon>
			         		</button>

	              			<button mat-icon-button color="warn" matTooltip="Delete application"
	              				(click)="deleteApplication(application)">
	              				<mat-icon aria-label="Delete">delete</mat-icon>
	              			</button>
	              		</div>
				    </mat-cell>
				</ng-container>

			    <mat-header-row *matHeaderRowDef="displayedColumns" class="data-header-row"></mat-header-row>
	    		<mat-row *matRowDef="let row; columns: displayedColumns;" class="data-row"></mat-row>

	      	</mat-table>

<!-- 	      	<div class="no-results" [style.display]="datasource.renderedData.length == 0 ? '' : 'none'"> -->
			<div class="no-results" [style.display]="dataSource?.filteredData.length == 0 ? '' : 'none'">
			    No results
			</div>

	      	<mat-paginator #paginator
      			 [length]="dataSource?.filteredData.length"
	      		 [pageIndex]="0"
                 [pageSize]="5"
                 [pageSizeOptions]="[5, 10, 20]">
 			 </mat-paginator>
<!--  			 [length]="datasource.filteredData.length" -->
      	</div>

<!--       	<div> -->
<!--       		<button type="button" class="btn btn-warn" (click)="test()">Test</button> -->
<!--       	</div> -->
      </section>
    </div>
  </div>
</div>
